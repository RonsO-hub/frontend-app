name: Debug Secrets
on: workflow_dispatch

jobs:
  debug-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Test Secrets
        run: |
          echo "----------------------------------------------"
          echo "üîç SECRET DETECTOR REPORT"
          echo "----------------------------------------------"
          
          if [ -z "${{ secrets.PORT_CLIENT_ID }}" ]; then
            echo "‚ùå PORT_CLIENT_ID is MISSING or EMPTY"
          else
            echo "‚úÖ PORT_CLIENT_ID is PRESENT (Length: ${#PORT_CLIENT_ID_VAL})"
          fi

          if [ -z "${{ secrets.PORT_CLIENT_SECRET }}" ]; then
            echo "‚ùå PORT_CLIENT_SECRET is MISSING or EMPTY"
          else
            echo "‚úÖ PORT_CLIENT_SECRET is PRESENT"
          fi

          if [ -z "${{ secrets.JIRA_API_TOKEN }}" ]; then
            echo "‚ùå JIRA_API_TOKEN is MISSING or EMPTY"
          else
            echo "‚úÖ JIRA_API_TOKEN is PRESENT"
          fi
          
          echo "----------------------------------------------"
        env:
          PORT_CLIENT_ID_VAL: ${{ secrets.PORT_CLIENT_ID }}
